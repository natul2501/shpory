<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	<title>life.v3</title>
	<link rel="stylesheet" type="text/css" href="../daughter/diarystyle.css">
	<style>
		a.def{
			color: #B98BBF;
			margin-left: 4px;
			font-weight:bold;
			/*padding-left: 15px;*/
		}
		a.def:hover{
			border: none;
			color: #FD60BC;
			text-decoration: underline;

		}
		h3{
			color: #B98BBF;
			background-color: rgba(105,95,100,0.6);
			text-align: center
		}
		.hide				{display: none; }
		.hide + label ~ div	{display: none; }
		.hide + label 		{display: inline-block;
							 padding: 0;
							 cursor: pointer;
							 border-bottom: 1px dotted;}
		.hide:checked + label + div {
        	display: block;
        }
	</style>
</head>
<body>
	<div id="container" style="width:1333px">
	<header id="header">
        <h1 style="margin-bottom:0; text-align: center">
			ЩОДЕННИК
		</h1>
		<div style="width: 1000; float: right; margin: 5px">
			<i>На вигляд більш-менш пристойний, в майбутньому планую додати функціоналу. Поки що наповнення на різну тематику і не структуроване</i>
		</div>
	</header>
       
	<nav id="menu">
		<ul>
			<li><a href="../index.html">Головна</a></li>
			<li><a href="../daughter/nav_html.html">Шпори по HTML</a></li>
			<li><a href="../daughter/nav_css.html">Шпори по CSS</a></li>
			<li><a href="../daughter/nav_JS.html">Шпори по JS</a></li>
			<li><a href="../daughter/nav_git.html">Шпори по git</a></li>
			<li><a href="../daughter/nav_html.html">Шпори по web</a></li>
			<li><a href="../daughter/nav_linux.html.html">Шпори по linux</a></li>
			<li>Альбом</li>
		</ul>
	</nav> 
	<div id="hashtag">
		<b style="color: black;">Теги</b><br>
		#diary,	#html, #css, #js, #c, #linux, #git, #LoNG, #arduino, #javaE, #DDT, #careerkhpi, #jobfair, #activecitizens, #kharkiv_eco_city, #life_others, #web
	</div>
                           <!-- CONTENT-->
	<div class="event" id="git_about">
		<time datetime="2020-10-03T21:05">03.10.2020 12:19</time><br>
		<div class="about">
			<h3>ARP</h3>
			<p>ARP (англ. Address Resolution Protocol — протокол определения адреса) — протокол в компьютерных сетях, предназначенный для определения MAC-адреса по IP-адресу другого компьютера.</p>
			<p>Рассмотрим суть функционирования ARP на простом примере. Компьютер А (IP-адрес 10.0.0.1) и компьютер Б (IP-адрес 10.22.22.2) соединены сетью Ethernet. Компьютер А желает переслать пакет данных на компьютер Б, IP-адрес компьютера Б ему известен. Однако сеть Ethernet, которой они соединены, не работает с IP-адресами. Поэтому компьютеру А для осуществления передачи через Ethernet требуется узнать адрес компьютера Б в сети Ethernet (MAC-адрес в терминах Ethernet). Для этой задачи и используется протокол ARP. По этому протоколу компьютер А отправляет широковещательный запрос, адресованный всем компьютерам в одном с ним широковещательном домене. Суть запроса: «компьютер с IP-адресом 10.22.22.2, сообщите свой MAC-адрес компьютеру с МАС-адресом (напр. a0:ea:d1:11:f1:01)». Сеть Ethernet доставляет этот запрос всем устройствам в том же сегменте Ethernet, в том числе и компьютеру Б. Компьютер Б отвечает компьютеру А на запрос и сообщает свой MAC-адрес (напр. 00:ea:d1:11:f1:11) Теперь, получив MAC-адрес компьютера Б, компьютер А может передавать ему любые данные через сеть Ethernet.</p>
			<p>Наибольшее распространение ARP получил благодаря повсеместности сетей IP, построенных поверх Ethernet, поскольку практически в 100 % случаев при таком сочетании используется ARP. В семействе протоколов IPv6 ARP не существует, его функции возложены на ICMPv6. </p>

			<h3>Процесс отправки ARP-запроса</h3>
			<p>Для того, чтобы отправить широковещательный ARP-запрос необходимо отыскать целевой IP-адрес, а также знать MAC-адрес интерфейса, который будет использоваться для отправки ARP-запроса.</p>
			<p>Кэш ARP проверяется для каждого целевого IP-адреса — если адрес есть в кэше, то библиотечная функция возвращает результат: Target IP = MAC.</p>
			<p>Если же записи в кэше нет:</p>
    		<ul>
    			<li>Проверяется таблица маршрутизации — это делается для того, чтобы узнать, есть ли искомый IP-адрес в какой-либо из подсетей локальной таблицы. Если он там, то запрос посылается с помощью интерфейса, связанного с этой подсетью. Если адрес в таблице не обнаружен, то используется интерфейс подсети шлюза по умолчанию.</li>
    			<li>Определяется MAC-адрес выбранного сетевого интерфейса.</li>
    			<li>Отправляется ARP-запрос (второй уровень стека):</li>
    		</ul>
    		<p>ARP-запрос:</p>
<pre>Sender MAC: interface:mac:address:here
Sender IP: interface.ip.goes.here
Target MAC: FF:FF:FF:FF:FF:FF (Broadcast)
Target IP: target.ip.goes.here</pre>
			<p>В зависимости от того, какое «железо» расположено между компьютером и роутером (маршрутизатором):</p>
			<p>Прямое соединение:</p>
    		<ul><li>Если компьютер напрямую подключён к роутеру, то это устройство отправляет ARP-ответ (ARP Reply).</li></ul>
			<p>Между ними концентратор (Хаб):</p>
    		<ul><li>Если компьютер подключён к сетевому концентратору, то этот хаб отправляет широковещательный ARP-запрос со всех своих портов. Если роутер подключён по тому же «проводу», то отправит ARP-ответ.</li></ul>
			<p>Между ними коммутатор (свитч):</p>
    		<ul><li>Если компьютер соединён с сетевым коммутатором, то этот свитч проверит локальную CAM/MAC-таблицу, чтобы узнать, какой порт в ней имеет нужный MAC-адрес. Если нужного адреса в таблице нет, то он заново отправит широковещательный ARP-запрос по всем портам.</li>
    		<li>Если в таблице есть нужная запись, то свитч отправит ARP-запрос на порт с искомым MAC-адресом.</li>
    		<li>Если роутер «на одной линии» со свитчем, то он ответит (ARP Reply).</li></ul>
    		<p>ARP-ответ:</p>
<pre>Sender MAC: target:mac:address:here
Sender IP: target.ip.goes.here
Target MAC: interface:mac:address:here
Target IP: interface.ip.goes.here</pre>
			<p>Теперь у сетевой библиотеки есть IP-адрес либо DNS-сервера либо шлюза по умолчанию, который можно использовать для разрешения доменного имени:<p>
   			<ul><li>Порт 53 открывается для отправки UDP-запроса к DNS-серверу (если размер ответа слишком велик, будет использован TCP).</li>
    		<li>Если локальный или на стороне провайдера DNS-сервер «не знает» нужный адрес, то запрашивается рекурсивный поиск, который проходит по списку вышестоящих DNS-серверов, пока не будет найдена SOA-запись, а затем возвращается результат.</li></ul>

			<h4>Источники</h4>
			<a href="https://ru.wikipedia.org/wiki/ARP" class="def" title="https://ru.wikipedia.org/wiki/ARP">Википедия</a><br>
			<a href="https://habr.com/ru/company/htmlacademy/blog/254825/" class="def" title="https://habr.com">Что на самом деле происходит, когда пользователь вбивает в браузер адрес google.com</a><br>

		</div>
		<br>   Теги: #web
	</div>
	<div>	&nbsp;</div>
</div>
<div class="event" id="footer" style="top: 345px">Copyright © 2011 www.puzzleweb.ru</div>
</body>
</html>